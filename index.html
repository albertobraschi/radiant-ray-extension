<!DOCTYPE html>
<html lang="en">
<head>
<title>Special friend</title>
<style>
html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,code,del,dfn,em,img,q,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;font-weight:inherit;font-style:inherit;font-size:100%;font-family:inherit;vertical-align:baseline}body{line-height:1.5}table{border-collapse:separate;border-spacing:0}caption,th,td{text-align:left;font-weight:normal}table,td,th{vertical-align:middle}blockquote:before,blockquote:after,q:before,q:after{content:""}blockquote,q{quotes:"" ""}a img{border:none}
body{font-size:75%;font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;color:#222222;background:#ffffff}h1{font-weight:normal;color:#111;font-size:3em;line-height:1;margin-bottom:0.5em}h1 img{margin:0}h2{font-weight:normal;color:#111;font-size:2em;margin-bottom:0.75em}h2 img{margin:0}h3{font-weight:normal;color:#111;font-size:1.5em;line-height:1;margin-bottom:1em}h3 img{margin:0}h4{font-weight:normal;color:#111;font-size:1.2em;line-height:1.25;margin-bottom:1.25em}h4 img{margin:0}h5{font-weight:normal;color:#111;font-size:1em;font-weight:bold;margin-bottom:1.5em}h5 img{margin:0}h6{font-weight:normal;color:#111;font-size:1em;font-weight:bold}h6 img{margin:0}p{margin:0 0 1.5em}p img.left{float:left;margin:1.5em 1.5em 1.5em 0;padding:0}p img.left.right{float:right;margin:1.5em 0 1.5em 1.5em}a{color:#000099;text-decoration:underline}a:focus,a:hover{color:#000000}blockquote{margin:1.5em;color:#666666;font-style:italic}strong{font-weight:bold}em,dfn{font-style:italic}dfn{font-weight:bold}sup,sub{line-height:0}abbr,acronym{border-bottom:1px dotted #666666}address{margin:0 0 1.5em;font-style:italic}del{color:#666666}pre{margin:1.5em 0;white-space:pre}pre,code,tt{font-size:1em;font-family:'andale mono', 'lucida console', monospace;line-height:1.5}li ul,li ol{margin:0 1.5em}ul,ol{margin:0 1.5em 1.5em 1.5em}ul{list-style-type:disc}ol{list-style-type:decimal}dl{margin:0 0 1.5em 0}dl dt{font-weight:bold}dd{margin-left:1.5em}table{margin-bottom:1.4em;width:100%}th{font-weight:bold}thead th{background:#c3d9ff}th,td,caption{padding:4px 10px 4px 5px}tr.even td{background:#e5ecf9}tfoot{font-style:italic}caption{background:#eeeeee}
.container{width:950px;margin:0 auto}.last{margin-right:0}hr{background:#dddddd;color:#dddddd;clear:both;float:none;width:100%;height:.1em;margin:0 0 1.45em;border:none}hr .space{background:#ffffff;color:#ffffff}.clearfix:after,.container:after{content:'\0020';display:block;height:0;clear:both;visibility:hidden;overflow:hidden}.clearfix,.container{display:block}
.container { width: 53.8461em; }
.quiet { background-color: inherit; color: #666666;}
.title { display: block; margin-top: 4em; }
.title h1 { font-size: 400%; font-weight: bold; display: inline; letter-spacing: -1px; margin-right: -0.1em; }
ol,p,ul { font-size: 133.3333%; }
ol ol { font-size: 100%; list-style-type: lower-alpha;}
section { display: block; margin-bottom: 5em; }
section code, section pre { font-family: "DejaVu Sans Mono", "Inconsolata", monospace; }
section pre { background-color: #eeeeee; border: 1px outset #aaaaaa; color: inherit; padding: 1em; -webkit-border-radius: 3px; }
section pre code { background-color: #eeeeee; color: inherit; }
section em { font-family: "DejaVu Serif", Georgia, serif; font-weight: bold; }
section h1 { font-weight: bold; }
section pre { font-size: 120%; }
section section { margin-bottom: 3em; }
section section h1 { font-size: 200%; font-weight: normal; }
section section section h1 { font-size: 175%; }
#toc { margin-top: 4em; }
#fork-me-banner { position: absolute; top: 0; right: 0; border: 0; }
</style>
</head>
<body class="container">
<header class="title">
  <h1>Ray</h1>
  <span class="description quiet">makes managing Radiant extensions a breeze. Uses git or http.</span>
</header>
<section id="toc">
  <header><h1>Table of Contents</h1></header>
  <ol>
    <li><a href="#overview">Overview</a></li>
    <li><a href="#install">Installation</a></li>
    <li><a href="#bugs">Bugs &amp; feature requests</a></li>
    <li><a href="#usage">Usage</a>
      <ol>
        <li><a href="#ext-isntall">Installing extensions</a></li>
        <li><a href="#ext-search">Searching for extensions</a></li>
        <li><a href="#ext-disable">Disabling extensions</a></li>
        <li><a href="#ext-enable">Enabling extensions</a></li>
        <li><a href="#ext-uninstall">Uninstalling extensions</a></li>
        <li><a href="#ext-bundle">Bundling extensions</a></li>
      </ol>
    </li>
    <li><a href="#dependencies">Extension dependencies</a></li>
    <li><a href="#advanced">Advanced usage</a>
      <ol>
        <li><a href="#setup-download">Download preference setup</a></li>
        <li><a href="#setup-restart">Server restart preference setup</a></li>
        <li><a href="#ext-remote">Adding extension remotes</a></li>
        <li><a href="#ext-pull">Pulling extension remotes</a></li>
      </ol>
    </li>
    <li><a href="#legacy">Legacy information</a></li>
    <li><a href="#authors">Authors</a></li>
    <li><a href="#license">License</a></li>
  </ol>
</section>
<section id="overview">
  <header><h1>Overview</h1></header>
  <p>
    Ray is just a rake file with some tasks that simplify the installation, disabling, enabling and uninstallation of other Radiant extensions. Although Ray relies on GitHub (as the extension host) it does not rely on the <code>git</code> command, if you don’t have <code>git</code> installed then the Ruby HTTP library is used to download compressed archives.
  </p>
  <p>
    To use Ray you need <code>git</code> or <code>tar</code> installed in addition to the normal Radiant stack; Windows users probably need one of those “unixy” environment things since Ray does occasionally call out to system tools. Ray <strong>only</strong> supports the <code>git</code> <abbr title="Source Code Management">SCM</abbr>; although I’d happily accept a patch that used <code>git</code>’s tools to access CVS, SVN or whatever else it can handle. If you need to install extensions from other sources you should use Radiant’s built-in <code>script/extension install</code> command which can handle a wide variety of installation types.
  </p>
</section>
<section id="install">
  <header><h1>Installation</h1></header>
  <p>
    If you have Radiant 0.6.8 or newer simply run<br>
    <code>script/extension install ray</code>
  </p>
  <p>
    If you’re on an older version of Radiant and have <code>git</code> installed run<br>
    <code>git clone git://github.com/johnmuhl/radiant-ray-extension.git vendor/extensions/ray</code>
  </p>
  <p>
    If you prefer to manage your extensions as <code>git</code> submodules run<br>
    <code>git submodule add git://github.com/johnmuhl/radiant-ray-extension.git vendor/extensions/ray</code>
  </p>
  <p>
    If you don’t have <code>git</code> installed download the <a href="http://github.com/johnmuhl/radiant-ray-extension/tarball/master">tar</a> or <a href="http://github.com/johnmuhl/radiant-ray-extension/zipball/master">zip</a> archive from GitHub</a>, unpack it and place it <code>site/vendor/extensions/ray</code>.
  </p>
  <p>
    Ray does not have any installation tasks to run, in fact you don’t even need to restart Radiant in order to start using the tasks.
  </p>
</section>
<section id="bugs">
  <header><h1>Bugs &amp; feature requests</h1></header>
  <p>
    Bug reports and feature requests can be lodged at <a href="http://jmm.lighthouseapp.com/projects/23552/home">Ray’s Lighthouse page</a>. When filing bugs please include your Radiant and Ray versions and if appropriate the GitHub URL of the extension you’re having trouble with. Also, don’t forget to add yourself to the watchers list on tickets you file in case I try to follow up with you.
  </p>
</section>
<section id="usage">
  <header><h1>Usage</h1></header>
  <section id="ext-install">
    <header><h1>Installing extensions</h1></header>
    <p>
      Most of what you’re likely to be doing with Ray is installing extensions, so Ray tries to make this as easy as possible. You don’t even need to know the name or author of the extension you want to install.
    </p>
    <p>Try something like<br>
      <code>rake ray:ext name=meta</code><br>
      and you see some output similar to…
    </p>
<pre><code>==============================================================================
I couldn't find an extension named 'meta'.
The following is a list of extensions that might be related.
Use the command listed to install the appropriate extension.
==============================================================================
  extension: metaweblog
     author: skrat
description: Radiant extension to allow publishing/adding pages via MetaWeb...
    command: rake ray:ext name=metaweblog
==============================================================================
  extension: seo_help
     author: saturnflyer
description: Provides extra tags for page meta information.
    command: rake ray:ext name=seo_help
==============================================================================</code></pre>
    <p>
      What happened was Ray searched for an extension named “meta”, didn’t find one, then searched through all the available extensions for the ones that include “meta” in their name or description. Notice on the last line of each extension listing is the Ray command you’d run to install that extension. Don’t worry, if you know the name of the extension you want it will be installed “no questions asked.”
    </p>
  </section>
  <section id="ext-search">
    <header><h1>Searching for extensions</h1></header>
    <p>
      While not installing extensions you’ll probably spend a fair amount of time looking for extensions that fulfill your various desires. Of course, you can just jump on <a href="http://github.com/">GitHub</a>, search around and then come back to the terminal to install your finds; but why bother ever leaving the terminal?
    </p>
    <p>Try something like<br>
      <code>rake ray:search term=blog</code><br>
      and you see some output similar to…
    </p>
<pre><code>==============================================================================
  extension: metaweblog
     author: skrat
description: Radiant extension to allow publishing/adding pages via MetaWeb...
    command: rake ray:ext name=metaweblog
==============================================================================
  extension: import-mephisto
     author: martinbtt
description: Radiant extension that aids in the process of migrating from t...
    command: rake ray:ext name=import-mephisto
==============================================================================
  extension: blog
     author: saturnflyer
description: Adds features for blogging
    command: rake ray:ext name=blog
==============================================================================
  extension: blogtags
     author: santry
description: An extension that provides some useful blogging tags for the R...
    command: rake ray:ext name=blogtags
==============================================================================</code></pre>
    <p>
      Again the Ray command you’d run to install that extension is listed on the last line of each extension listing. I imagine you’re now asking, “But how do I spend a rainy day exploring the 150+ extensions for Radiant?”<br>
      <code>rake ray:extension:all</code>
    </p>
  </section>
  <section id="ext-disable">
    <header><h1>Disabling extensions</h1></header>
    <p>
      Regardless whether or not you used Ray to install an extension, Ray can disable it for you. Disabling an extension is a safe operation in that no data is destroyed, it’s just moved to a location where Radiant doesn’t look for extensions.<br>
      <code>rake ray:dis name=extension_name</code>
    </p>
  </section>
  <section id="ext-enable">
    <header><h1>Enabling extensions</h1></header>
    <p>
      After you’ve disabled an extension with Ray you can enable it again just as easily. Enabling an extension is only possible if you disabled it with Ray; it <em>is not</em> for installing new extensions.<br>
      <code>rake ray:en name=extension_name</code>
    </p>
  </section>
  <section id="ext-uninstall">
    <header><h1>Uninstalling extensions</h1></header>
    <p>
      As with disabling it doesn’t matter whether or not you used Ray to install an extension, Ray can uninstall it for you. Uninstalling an extension destroys as much data associated with the extension as possible, and is therefore not recommend in all but the most extreme cases when <strong>you are sure you’re really done</strong> with an extension.<br>
      <code>rake ray:rm name=extension_name</code>
    </p>
    <p>
      Due to the nature of extensions it’s not possible to guarantee all the static assets (javascripts, stylesheets, images, etc.) will be deleted. Since these files reside in various locations throughout your <code>site/public</code> directory Ray chooses to take a conservative approach when tracking files down for deletion. Therefore, if you’re really dedicated to getting rid of all traces of an extension you’ll still need manually poke around in <code>site/public</code> to manually verify the uninstallation of static assets.
    </p>
  </section>
  <section id="ext-bundle">
    <header><h1>Bundling extensions</h1></header>
    <p>
      Bundling extensions is handy for site maintainers who want to spend a little less time re-installing a site’s extensions every time they load it up on a new system. The idea is provide a single file that describes the extensions and extension dependencies that Ray can then examine and act upon.
    </p>
    <p>
      To use this feature you’ll need to create a file called <code>extensions.yml</code> inside you <code>site/config</code> directory. Here’s an example <code>extensions.yml</code> file.
    </p>
<pre><code>---
- name: aggregation
- name: link-roll
- name: help
- name: markdown
- name: page_attachments
  lib: mini_magick
- name: blog
  hub: netzpirat
  remote: saturnflyer</code></pre>
    <aside>
      If you have an existing <code>extensions.yml</code> file you use with Ray 1.x you’ll need to update it before it’s compatibile with Ray 2.x; mostly this will just require deleting things that Ray can now determine on its own.
    </aside>
  </section>
</section>
<section id="dependencies">
  <header><h1>Extension dependencies</h1></header>
  <p>
    While extension bundling is for site maintainers, extension dependencies are for extension authors. As you can probably guess it lets you tell Ray about your extension’s dependencies. All you need is a <code>dependency.yml</code> file in the root directory of your extension. Here’s an example <code>dependency.yml</code> file.
  </p>
<pre><code>- extension: my_extension_helpers</code></pre>
  <p>
    You can list as many dependencies as you need and they can include gems as well as other extensions.
  </p>
<pre><code>- extension: this_extension_helps_a_ton
- extension: some_other_voodoo
- gem: this_one
- gem: that_too</code></pre>
  <p>
    The absence of support for plugin dependencies is intentional. You are much better off adding plugins to your extension as <code>git</code> submodules and letting Ray deal with them during the normal installation of your extension. As an added bonus your plugin dependencies will also be recognized and respected by Radiant’s built-in <code>script/extension install</code>.
  </p>
</section>
<section id="advanced">
  <header><h1>Advanced usage</h1></header>
  <p>
    In addition to the few tasks you see if you run <code>rake -T ray</code>, Ray includes a few more tasks.
  </p>
  <section id="setup-download">
    <header><h1>Download preference setup</h1></header>
    <p>
      The most important of Ray’s setup tasks, <code>rake ray:setup:download</code>, will be run for you automatically the first time you try to install an extension. However you might not have had <code>git</code> installed when you initially installed Ray. If that’s the case you can manually run<br>
      <code>rake ray:setup:download</code><br>
      and Ray will change your preference for all future installations.
    </p>
  </section>
  <section id="setup-restart">
    <header><h1>Server restart preference setup</h1></header>
    <p>
      Ray’s other setup task, <code>rake ray:setup:restart</code>, can be used to have Ray automatically restart your server whenever necessary, such as after you install a new extension. Currently, Ray only supports restarting a Mongrel cluster or Phusion Passenger.
    </p>
<pre><code>rake ray:setup:restart server=mongrel
rake ray:setup:restart server=passenger</code></pre>
  </section>
  <section id="ext-remote">
    <header><h1>Adding extension remotes</h1></header>
    <p>
      Before you get going with remote branches in Ray you’ll need to make sure you’ve setup at least your GitHub username in your global <code>git</code> configuration file.
    </p>
<pre><code>git config --global github.user your_github_username</code></pre>
    <p>
      That will add a bit of code to your <code>~/.gitconfig</code> file. Ray can then use that information to determine when you’re installing your own extensions. Now when you install from your own repositories Ray will use your private URL instead of the public one; which means you can push your local changes back to your GitHub repository.
    </p>
    <p>
      Now you can install your extensions as you normally would with Ray. Then tell Ray which other users you want to track.
    </p>
<pre><code>rake ray:ext name=extension
rake ray:extension:remote name=extension remote=other_user</code></pre>
    <p>
      As you add remotes Ray will setup tracking branches named like “other_user/branch_name” for each branch the remote user has in their repository. Nothing is merged by Ray and you’ll be returned to your current branch after the remote is setup. Just like when you’re using <code>git</code> directly you’ll want to <em>make sure your current branch is clean</em> (commit or stash) before adding remotes.
    </p>
  </section>
  <section id="ext-pull">
    <header><h1>Pulling extension remotes</h1></header>
    <p>
      Once you’ve setup a remote repository on an extension you’ll want to pull down the changes occasionally. You can pull in the remote repositories for either a specific extension or all extensions with remotes setup.
    </p>
<pre><code># pull remotes on a single extension
rake ray:extension:pull name=extension_name

# pull remotes on all extensions
rake ray:extension:pull</code></pre>
    </section>
  </section>
</section>
<section id="legacy">
  <header><h1>Legacy information</h1></header>
  <p>For the most part each Ray release is “compatible” with the previous one. Occasionally though things change between versions, you can find out all about what “breaking” changes the latest version has here.</p>
  <p>
    In some cases, a shortcut that existed in Ray 1.x will no longer be present in Ray 2.x. If you find this to be a particular hassle please <a href="http://jmm.lighthouseapp.com/projects/23552/tickets/new">create a ticket</a> complaining about it and I’ll give you your shortcut back.
  </p>
  <p>
    All users of the extension bundling mechanism will need to update their <code>extensions.yml</code> before Ray 2.x can understand them. This is mainly because the original format was not very well considered; you’ll find most of your updating gets done with the delete key.
  </p>
  <p>
    Users of previous versions may notice that the commands have changed. While this appears to be the case it’s not actually (mostly). All the same old commands are available, so if you got comfortable with <code>rake ray:extension:install name=mailer</code> and don’t want to switch to <code>rake ray:ext name=mailer</code> you can keep right on using the long versions.
  </p>
</section>
<section id="authors">
  <header><h1>Authors</h1></header>
  <ul>
    <li>john muhl</li>
    <li>Michael Kessler</li>
  </ul>
</section>
<section id="license">
  <header><h1>MIT License</h1></header>
  <p>Copyright (c) 2008, 2009 john muhl</p>
  <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
  <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
  <p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
</section>
<a href="http://github.com/johnmuhl/radiant-ray-extension/fork"><img id="fork-me-banner" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-408933-9");
pageTracker._trackPageview();
} catch(err) {}</script>
</body>
</body>
</html>
